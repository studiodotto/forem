<%= javascript_packs_with_chunks_tag "validateFileInputs", defer: true %>

<%= form_with(model: music_release, local: true) do |form| %>
  <div>
    <header class="mb-4">
      <a href="/music_releases" class="podcast-back-button">&lt; return to music releases</a>
      <h2>Suggest a Music release</h2>
    </header>
    <% if music_release.errors.any? %>
      <div class="music_release-errors">
        <h2><%= pluralize(music_release.errors.count, "error") %> while creating a music release:</h2>
        <ul>
          <% music_release.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div id="music_release-form-data" class="crayons-card mb-6 grid grid-flow-row gap-6 p-6">
      <div class="crayons-field">
        <%= form.label :title, class: "crayons-field__label" %>
        <%= form.text_field :title, placeholder: "", class: "crayons-textfield" %>
      </div>
      <div class="crayons-field">
        <%= form.label :description, "Description", class: "crayons-field__label" %>
        <%= form.text_area :description, placeholder: "", class: "crayons-textfield" %>
      </div>
      <div class="crayons-field">
        <%= form.label :slug, class: "crayons-field__label" %>
        <%= form.text_field :slug, class: "crayons-textfield" %>
      </div>
      <div class="crayons-field">
        <%= form.label :main_color_hex, class: "crayons-field__label" %>
        <%= form.text_field :main_color_hex, placeholder: "FF00FF", class: "crayons-textfield" %>
      </div>
      <div class="crayons-field">
        <%= form.label :image, class: "crayons-field__label" %>
        <%= form.file_field :image, accept: "image/*" %>
      </div>
      <div class="crayons-field">
        <%= form.label :pattern_image, class: "crayons-field__label" %>
        <%= form.file_field :pattern_image, accept: "image/*" %>
      </div>
      <div class="crayons-field">
        <%= form.submit "Suggest", class: "crayons-btn" %>
      </div>
    </div>
  </div>
<% end %>
